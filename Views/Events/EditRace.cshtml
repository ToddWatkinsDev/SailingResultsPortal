@model SailingResultsPortal.Models.Race

@{
    ViewData["Title"] = "Edit Race";
    var eventId = ViewData["EventId"] as string;
}

<h1 class="text-2xl font-bold mb-4">Edit Race</h1>

<form method="post" asp-action="EditRace" asp-route-eventId="@eventId" asp-route-raceId="@Model.Id" class="max-w-md bg-white rounded shadow p-6">
    @Html.AntiForgeryToken()

    <label class="block mb-2 font-semibold" for="Name">Race Name</label>
    <input asp-for="Name" id="Name" name="Name" class="w-full mb-4 p-2 border rounded" required />

    <label class="block mb-2 font-semibold" for="HandicapSystem">Handicap System</label>
    <select asp-for="HandicapSystem" id="HandicapSystem" name="HandicapSystem" class="w-full mb-4 p-2 border rounded" required>
        <option value="Portsmouth" selected="@(Model.HandicapSystem == "Portsmouth")">Portsmouth Yardstick</option>
        <option value="IRC" selected="@(Model.HandicapSystem == "IRC")">IRC</option>
        <option value="YTC" selected="@(Model.HandicapSystem == "YTC")">YTC</option>
    </select>

    <label class="block mb-2 font-semibold" for="HandicapType">Handicap Type</label>
    <select asp-for="HandicapType" id="HandicapType" name="HandicapType" class="w-full mb-4 p-2 border rounded" required>
        <option value="Open" selected="@(Model.HandicapType == "Open")">Open Handicap</option>
        <option value="OneDesign" selected="@(Model.HandicapType == "OneDesign")">One Design</option>
    </select>

    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Save Changes</button>
    <a href="/Events/Races?eventId=@eventId" class="ml-4 underline">Cancel</a>
</form>
